---
layout: default
id: Lifecycle
title: 生命周期
---

# 概述

Rocket提供了使用Rust构建Web服务器和应用程序的原语：Rocket提供了路由，请求的预处理和响应的后处理；其余的取决于您。您的应用程序代码向Rocket指示要进行预处理和后处理的内容，并填补预处理和后处理之间的空白。

## 生命周期

Rocket的主要任务是侦听传入的Web请求，将请求分配给应用程序代码，并将响应返回给客户端。我们将从请求到响应的过程称为“生命周期”。我们将生命周期总结为以下步骤序列：

1. **路由**

   Rocket将传入的HTTP请求解析为本机结构，您的代码将在本机结构中间接操作。Rocket通过与您的应用程序中声明的路由属性进行匹配来确定要调用的请求处理程序。

2. **验证方式**

   Rocket会根据匹配路径中存在的类型和防护来验证传入的请求。如果验证失败，Rocket *会将*请求*转发*到下一个匹配的路由，或者调用*错误处理程序*。

3. **处理中**

   与路由关联的请求处理程序将使用经过验证的参数来调用。这是应用程序的主要业务逻辑。通过返回来完成处理`Response`。

4. **响应**

   返回的`Response`已处理。Rocket会生成适当的HTTP响应，并将其发送到客户端。这样就完成了生命周期。Rocket继续侦听请求，并为每个传入请求重新启动生命周期。

本节的其余部分详细介绍了*路由*阶段以及Rocket开始向请求处理程序分配请求所需的其他组件。以下各节描述了请求和响应阶段以及Rocket的其他组件。